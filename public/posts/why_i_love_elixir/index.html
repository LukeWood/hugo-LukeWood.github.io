<!doctype html><html data-theme=dark lang=en><head><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-139935010-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="LukeWood.dev is my personal website.  It serves as a tech blog, code showcase, and project portfolio."><title>Luke Wood</title><meta property="og:title" content="Why I Love Elixir"><meta property="og:description" content="I often talk about the Elixir programming language to friends, families, and colleagues.
While there are TONS of features in elixir that I think are fantastic&mldr; off the top of my head:
 OTP integration Concurrency model Runtime configuration Erlang VMs deployment system Phoenix and Phoenix&rsquo;s websocket model  Note: maybe I&rsquo;ll revisit each of these in a follow up post if there&rsquo;s enough interest
While some of the features above make Elixir a more compelling sell to upper management and clients - one feature not listed stands out to me as one of the most fun to use."><meta property="og:type" content="article"><meta property="og:url" content="/posts/why_i_love_elixir/"><meta property="article:published_time" content="2020-03-26T00:00:00+00:00"><meta property="article:modified_time" content="2020-03-26T00:00:00+00:00"><meta itemprop=name content="Why I Love Elixir"><meta itemprop=description content="I often talk about the Elixir programming language to friends, families, and colleagues.
While there are TONS of features in elixir that I think are fantastic&mldr; off the top of my head:
 OTP integration Concurrency model Runtime configuration Erlang VMs deployment system Phoenix and Phoenix&rsquo;s websocket model  Note: maybe I&rsquo;ll revisit each of these in a follow up post if there&rsquo;s enough interest
While some of the features above make Elixir a more compelling sell to upper management and clients - one feature not listed stands out to me as one of the most fun to use."><meta itemprop=datePublished content="2020-03-26T00:00:00+00:00"><meta itemprop=dateModified content="2020-03-26T00:00:00+00:00"><meta itemprop=wordCount content="1331"><meta itemprop=keywords content="elixir,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Why I Love Elixir"><meta name=twitter:description content="I often talk about the Elixir programming language to friends, families, and colleagues.
While there are TONS of features in elixir that I think are fantastic&mldr; off the top of my head:
 OTP integration Concurrency model Runtime configuration Erlang VMs deployment system Phoenix and Phoenix&rsquo;s websocket model  Note: maybe I&rsquo;ll revisit each of these in a follow up post if there&rsquo;s enough interest
While some of the features above make Elixir a more compelling sell to upper management and clients - one feature not listed stands out to me as one of the most fun to use."><link rel=apple-touch-icon sizes=32x32 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_32x32_resize_box_2.png><link rel=icon type=image/png sizes=32x32 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_32x32_resize_box_2.png><link rel=apple-touch-icon sizes=96x96 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_96x96_resize_box_2.png><link rel=icon type=image/png sizes=96x96 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_96x96_resize_box_2.png><link rel=apple-touch-icon sizes=57x57 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_57x57_resize_box_2.png><link rel=icon type=image/png sizes=57x57 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_57x57_resize_box_2.png><link rel=apple-touch-icon sizes=60x60 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_60x60_resize_box_2.png><link rel=icon type=image/png sizes=60x60 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_60x60_resize_box_2.png><link rel=apple-touch-icon sizes=72x72 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_72x72_resize_box_2.png><link rel=icon type=image/png sizes=72x72 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_72x72_resize_box_2.png><link rel=apple-touch-icon sizes=76x76 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_76x76_resize_box_2.png><link rel=icon type=image/png sizes=76x76 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_76x76_resize_box_2.png><link rel=apple-touch-icon sizes=114x114 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_114x114_resize_box_2.png><link rel=icon type=image/png sizes=114x114 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_114x114_resize_box_2.png><link rel=apple-touch-icon sizes=120x120 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_120x120_resize_box_2.png><link rel=icon type=image/png sizes=120x120 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_120x120_resize_box_2.png><link rel=apple-touch-icon sizes=128x128 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_128x128_resize_box_2.png><link rel=icon type=image/png sizes=128x128 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_128x128_resize_box_2.png><link rel=apple-touch-icon sizes=144x144 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_144x144_resize_box_2.png><link rel=icon type=image/png sizes=144x144 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_144x144_resize_box_2.png><link rel=apple-touch-icon sizes=152x152 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_152x152_resize_box_2.png><link rel=icon type=image/png sizes=152x152 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_152x152_resize_box_2.png><link rel=apple-touch-icon sizes=180x180 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_180x180_resize_box_2.png><link rel=icon type=image/png sizes=180x180 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_180x180_resize_box_2.png><link rel=apple-touch-icon sizes=192x192 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_192x192_resize_box_2.png><link rel=icon type=image/png sizes=192x192 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_192x192_resize_box_2.png><link rel=apple-touch-icon sizes=512x512 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_512x512_resize_box_2.png><link rel=icon type=image/png sizes=512x512 href=/icons/whale_hu4b96c97647f96e31a06c1982535090f9_26376_512x512_resize_box_2.png><meta name=theme-color content="#121212"><meta name=msapplication-TileColor content="#121212"><link rel=manifest href=/manifest.json><script async defer>if('serviceWorker'in navigator){window.addEventListener('load',()=>{navigator.serviceWorker.register("\/sw.js").then(function(registration){console.log('ServiceWorker registration successful with scope: ',registration.scope);}).catch(function(err){console.log('ServiceWorker registration failed: ',err);});});}</script><link rel=stylesheet type=text/css href=/base.de1c3f51219371053ba76f4269fdbc4adb050d34cc9a39f17fe4e8c7b0b452e3.css><link rel=stylesheet type=text/css href=/post.32d5436648f5b7453ca414ada5d40d891abf67957299445eccba8eb30975482c.css><script defer async src=/js/darkmode.min.7d7341c61e13b0b7660636875a1d5ecb3f169ae545fc46104e82ec5302464530.js></script></head><body class=preload><nav class=menu><a class="main-emphasis weight-700" href=/>LukeWood.dev</a>
<a id=night-toggle class="night-menu material-icon">wb_sunny</a>
<script defer async src=/js/menu.min.7c54a13473e137bac23f569d72158e4b11f220c39f5ede70ed53872204eb24b2.js></script></nav><main class=container><article class=content><h1>Why I Love Elixir</h1><p>I often talk about the <a href=https://elixirlang.org>Elixir</a> programming language to friends, families, and colleagues.</p><p>While there are TONS of features in elixir that I think are fantastic&mldr; off the top of my head:</p><ul><li><a href=https://erlang.org/doc/>OTP integration</a></li><li>Concurrency model</li><li><a href=https://hexdocs.pm/elixir/Application.html>Runtime configuration</a></li><li><a href=https://hexdocs.pm/phoenix/deployment.html>Erlang VMs deployment system</a></li><li><a href=https://hexdocs.pm/phoenix/channels.html>Phoenix and Phoenix&rsquo;s websocket model</a></li></ul><p><strong>Note: maybe I&rsquo;ll revisit each of these in a follow up post if there&rsquo;s enough interest</strong></p><p>While some of the features above make Elixir a more compelling sell to upper management and clients - one feature not listed stands out to me as one of the most <em>fun</em> to use.</p><p>That feature is function head pattern matching.</p><h2 id=function-head-pattern-matching>Function Head Pattern Matching</h2><p>This feature is simply outstanding.</p><p>The beauty of this feature comes out more in examples than it does in explanations.</p><p>Here&rsquo;s a brief explanation though before we get started:<div class=keypoint><b>Key Point: 1</b>
<i>For a language to have function head pattern matching it must allow users to define multiple function bodies for a single function.
Each of these function bodies is gated behind a <a href=https://elixir-lang.org/getting-started/pattern-matching.html>pattern</a> and a set of <a href=https://hexdocs.pm/elixir/guards.html>guard clauses</a>.
When the function is called the function definitions are tried one at a time in order of definition until one matches.
Once a match is found the code in that function body is run with the given parameter set.</i></div></p><p>Still not clear? Let&rsquo;s look at examples.</p><h3 id=first-examples>First examples</h3><p>Function head pattern matching is based on the concept that multiple function definitions can represent a single function.</p><p>Consider the absolute value function</p><pre><code>abs(x) = {
  x &gt; 0, x
  x &lt; 0, -x
  0, 0
}
</code></pre><p>In Elixir code this looks like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir>def abs(n) when n <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> do n end
def abs(n) do <span style=color:#f92672>-</span>n end

abs(<span style=color:#ae81ff>1</span>)
<span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span>

abs(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)
<span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span>
</code></pre></div><p>The <code>when n > 0</code> statement represents a <code>guard</code> and the <code>n</code> in the parenthesis represents the pattern.
The pattern here does not have any restrictions other than an <a href=https://elixir-lang.org/getting-started/modules-and-functions.html>arity</a> of one.
<strong>Note: Having an arity of one simply means the function accepts one parameter</strong></p><p>The <code>when</code> clause limits the <code>domain</code> of each function clause.<br>In the example above <code>when n > 0</code> limits the domain of the first function body to positive numbers.</p><p>Function head pattern matching allows the parameters provided in a function declaration to act not only as a set of variable declarations, but also as a <code>pattern</code> restricting the domain of a function.</p><p>Here&rsquo;s an example of that.</p><p>The following function has a domain of [1, 2] and returns either the atom <code>:one</code> or the atom <code>:two</code>.</p><p><strong>Note: you can think of atoms like strings for now</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir>def one_or_two(<span style=color:#ae81ff>1</span>), <span style=color:#e6db74>do</span>: <span style=color:#e6db74>:one</span>
def one_or_two(<span style=color:#ae81ff>2</span>), <span style=color:#e6db74>do</span>: <span style=color:#e6db74>:two</span>
</code></pre></div><p>This function definition consists of two bodies - each of which having a pattern specified by a single integer.</p><p>When the function is called the function will attempt to match the given parameters to each function definition clause in order.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir>one_or_two(<span style=color:#ae81ff>1</span>)
</code></pre></div><pre class=output>
  <span style=color:#75715e>Output:</span>
  <div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir><span style=color:#f92672>&gt;</span> <span style=color:#e6db74>&#34;one&#34;</span>
</code></pre></div></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir>one_or_two(<span style=color:#ae81ff>3</span>)
</code></pre></div><pre class=output>
  <span style=color:#75715e>Output:</span>
  <div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir><span style=color:#f92672>&gt;</span> <span style=color:#f92672>**</span> (<span style=color:#a6e22e>FunctionClauseError</span>) no function clause matching in one_or_two<span style=color:#f92672>/</span><span style=color:#ae81ff>1</span>
<span style=color:#a6e22e>The</span> following arguments were given to <span style=color:#a6e22e>Test</span><span style=color:#f92672>.</span>one_or_two<span style=color:#f92672>/</span><span style=color:#ae81ff>1</span>:

    <span style=color:#75715e># 1</span>
    <span style=color:#ae81ff>3</span>
</code></pre></div></pre><p>If no clause matches Elixir will raise a <code>FunctionClauseError</code>.</p><h3 id=fibonacci>Fibonacci</h3><p>Ah Fibonacci, a very common example function used in programming.
Let&rsquo;s just use the naive approach to keep things simple and about the code.</p><p>Let&rsquo;s examine the mathematical definition:</p><pre><code>fib(x) = {
  0: 1,
  1: 1,
  x: fib(x-1) + fib(x-2)
}
</code></pre><p>Not too ugly, now let&rsquo;s look at a Javascript implementation:</p><p><em>Javascript</em></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>fib</span>(<span style=color:#a6e22e>x</span>) {
  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) {
    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
  } <span style=color:#66d9ef>else</span> {
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fib</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>fib</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>);
  }
}
</code></pre></div><p>Not too bad either, mainly due to the fact that the function itself is quite trivial.</p><p>Let&rsquo;s look at Elixir&rsquo;s</p><p><em>Elixir</em></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir>def fib(<span style=color:#ae81ff>0</span>), <span style=color:#e6db74>do</span>: <span style=color:#ae81ff>1</span>
def fib(<span style=color:#ae81ff>1</span>), <span style=color:#e6db74>do</span>: <span style=color:#ae81ff>1</span>
def fib(n), <span style=color:#e6db74>do</span>: fib(n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> fib(n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)
</code></pre></div><p>Between Javascript and Elixir - which function do you find more readable?
I myself find Elixir&rsquo;s quite elegant because&mldr;<div class=keypoint><b>Key Point: 2</b>
<i>Through function head pattern matching Elixir makes it <em>exceptionally</em> clear which clauses operate on which values. This reduces cognitive load when attempting to decipher functions.</i></div></p><p>Let&rsquo;s look at another example.</p><p>Heres an example function that determines if a number is single digit.</p><p><em>Java</em></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>isSingleDigit</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> x<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>x <span style=color:#f92672>&gt;</span> <span style=color:#f92672>-</span>10 <span style=color:#f92672>&amp;&amp;</span> x <span style=color:#f92672>&lt;</span> 10<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><p><em>Elixir</em></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir>def is_single_digit(x), <span style=color:#e6db74>when</span>: x in [<span style=color:#f92672>-</span><span style=color:#ae81ff>10</span><span style=color:#f92672>..</span><span style=color:#ae81ff>10</span>], <span style=color:#e6db74>do</span>: true
def is_single_digit(_),                       <span style=color:#e6db74>do</span>: false
</code></pre></div><p>Which function do you have an easier time deciphering? For the same reason referenced above I find the Elixir version here easier to trace.</p><p>Let&rsquo;s consider a real world example.</p><h2 id=find-the-first-item-matching-a-set-of-conditions>Find the first item matching a set of conditions</h2><p>This is an example I personally face all the time in the real world.</p><p>Imagine we have a type, User.</p><pre><code>User {
  banned: boolean,
  name: String,
  // etc...
}
</code></pre><p>These users are granted &ldquo;access&rdquo; to some sort of thing based on many criteria.
The first of which is if the user is banned.</p><p>To start - we will have two criteria:</p><ul><li>the user is not explicitly banned</li><li>the user is not named &ldquo;Zack&rdquo;</li></ul><p>Let&rsquo;s check out a java implementation.</p><p><em>Java</em></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#a6e22e>@AutoValue</span>
<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>User</span> <span style=color:#f92672>{</span>
  <span style=color:#66d9ef>abstract</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>banned</span><span style=color:#f92672>();</span>
  <span style=color:#66d9ef>abstract</span> String <span style=color:#a6e22e>name</span><span style=color:#f92672>();</span>
  <span style=color:#75715e>// ... imagine some other values
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AccessAllower</span> <span style=color:#f92672>{</span>
  <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>accessAllowed</span><span style=color:#f92672>(</span>User user<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
      <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>user<span style=color:#f92672>.</span><span style=color:#a6e22e>banned</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
      <span style=color:#f92672>}</span>
      <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>user<span style=color:#f92672>.</span><span style=color:#a6e22e>name</span><span style=color:#f92672>().</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Zack&#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
      <span style=color:#f92672>}</span>
      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>
  <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>This type of function extremely common in most industrial code bases.
Let&rsquo;s examine how Elixir handles these sorts of functions.
Elixir maps are represented by <code>%{}</code>. Elixir keys and values can be matched on in function head.</p><p><em>Elixir</em></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir>defmodule <span style=color:#a6e22e>User</span> do
  defstruct [<span style=color:#e6db74>:banned</span>, <span style=color:#e6db74>:name</span>]
end

defmodule <span style=color:#a6e22e>AccessAllower</span>
  defp access_allowed?(%{<span style=color:#e6db74>banned</span>: true}), <span style=color:#e6db74>do</span>: false
  defp access_allowed?(%{<span style=color:#e6db74>name</span>: <span style=color:#e6db74>&#34;Zack&#34;</span>}), <span style=color:#e6db74>do</span>: false
  defp access_allowed?(_),               <span style=color:#e6db74>do</span>: true
end
</code></pre></div><p>This is already much clearer than the java version - but let&rsquo;s imagine requirements keep getting <em>MORE</em> complex (as the case is).</p><p>As requirements evolve our code scales extremely well.</p><p>Let&rsquo;s imagine we now want to reject users named AnnMarie. In Elixir this is as easy as:</p><p><em>Elixir</em></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir>defmodule <span style=color:#a6e22e>AccessAllower</span>
  defp access_allowed?(%{<span style=color:#e6db74>banned</span>: true}),     <span style=color:#e6db74>do</span>: false
  defp access_allowed?(%{<span style=color:#e6db74>name</span>: <span style=color:#e6db74>&#34;Zack&#34;</span>}),     <span style=color:#e6db74>do</span>: false
  defp access_allowed?(%{<span style=color:#e6db74>name</span>: <span style=color:#e6db74>&#34;AnnMarie&#34;</span>}), <span style=color:#e6db74>do</span>: false
  defp access_allowed?(_),                   <span style=color:#e6db74>do</span>: true
end
</code></pre></div><p>or what if we want to ban users whose names are longer than 33 characters?</p><p><em>Elixir</em></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir>defmodule <span style=color:#a6e22e>AccessAllower</span>
  defp access_allowed?(%{<span style=color:#e6db74>banned</span>: true}),                     <span style=color:#e6db74>do</span>: false
  defp access_allowed?(%{<span style=color:#e6db74>name</span>: <span style=color:#e6db74>&#34;Zack&#34;</span>}),                     <span style=color:#e6db74>do</span>: false
  defp access_allowed?(%{<span style=color:#e6db74>name</span>: <span style=color:#e6db74>&#34;AnnMarie&#34;</span>}),                 <span style=color:#e6db74>do</span>: false
  defp access_allowed?(%{<span style=color:#e6db74>name</span>: name}), <span style=color:#e6db74>when</span>: len(name) <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>33</span>, <span style=color:#e6db74>do</span>: false
  defp access_allowed?(_),                                   <span style=color:#e6db74>do</span>: true
end
</code></pre></div><p>It&rsquo;s trivial to add new criteria - what if we want to whitelist banned users if they are named &ldquo;Luke&rdquo; and make them ban proof?</p><p><em>Elixir</em></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir>defmodule <span style=color:#a6e22e>AccessAllower</span>
  <span style=color:#75715e># Whitelist</span>
  defp access_allowed?(%{<span style=color:#e6db74>name</span>: <span style=color:#e6db74>&#34;Luke&#34;</span>}),                     <span style=color:#e6db74>do</span>: true
  <span style=color:#75715e># False cases</span>
  defp access_allowed?(%{<span style=color:#e6db74>banned</span>: true}),                     <span style=color:#e6db74>do</span>: false
  defp access_allowed?(%{<span style=color:#e6db74>name</span>: <span style=color:#e6db74>&#34;Zack&#34;</span>}),                     <span style=color:#e6db74>do</span>: false
  defp access_allowed?(%{<span style=color:#e6db74>name</span>: <span style=color:#e6db74>&#34;AnnMarie&#34;</span>}),                 <span style=color:#e6db74>do</span>: false
  defp access_allowed?(%{<span style=color:#e6db74>name</span>: name}), <span style=color:#e6db74>when</span>: len(name) <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>33</span>, <span style=color:#e6db74>do</span>: false
  <span style=color:#75715e># Fallthrough</span>
  defp access_allowed?(_),                                   <span style=color:#e6db74>do</span>: true
end
</code></pre></div><p>As you can see - adding these cases is really easy.
The code is still super easy to trace and reason about.</p><p>Let&rsquo;s check in over in Java land.</p><p><em>Java</em></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AccessAllower</span> <span style=color:#f92672>{</span>
  <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>accessAllowed</span><span style=color:#f92672>(</span>User user<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>user<span style=color:#f92672>.</span><span style=color:#a6e22e>name</span><span style=color:#f92672>().</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Luke&#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>user<span style=color:#f92672>.</span><span style=color:#a6e22e>banned</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>user<span style=color:#f92672>.</span><span style=color:#a6e22e>name</span><span style=color:#f92672>().</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Zack&#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>user<span style=color:#f92672>.</span><span style=color:#a6e22e>name</span><span style=color:#f92672>().</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;AnnMarie&#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>user<span style=color:#f92672>.</span><span style=color:#a6e22e>name</span><span style=color:#f92672>().</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()</span> <span style=color:#f92672>&gt;</span> 33<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>
  <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>To me - this is much harder to follow.</p><div class=keypoint><b>Key Point: 3</b>
<i>In enterprise software, requirements change constantly.
Function head pattern matching allows code to remain readable as the number of special cases handled grows.</i></div><h2 id=summary>Summary</h2><p>I love function head pattern matching.</p><p>It allows us to write code that is:</p><ul><li>easier to trace mentally</li><li>more closely represent mathematical function definitions</li><li>remain readable when requirements grow</li></ul><div class=keypoint><b>Key Point: 4</b>
<i>While function head pattern matching isn&rsquo;t a compelling argument to make to upper management on picking Elixir as a primary language - it is a nice bonus to using Elixir and is my personal favorite language feature.</i></div><p>I find writing code this way fun and it&rsquo;s a refreshing take on things.</p><link href=//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css rel=stylesheet type=text/css><link rel=stylesheet type=text/css href=/mailchimp.e93d894061a381ef524fd458eb0f5d70ef4e2d161bcaa23a6cc913c8572a49eb.css><div id=mc_embed_signup><form action="https://gmail.us3.list-manage.com/subscribe/post?u=690be7ba6bb2da04ebb3cb084&amp;amp;id=30d3ffcf46" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class=validate target=_blank novalidate><div id=mc_embed_signup_scroll><label for=mce-EMAIL>Subscribe to my mailing list!</label><div style=position:absolute;left:-5000px aria-hidden=true><input type=text name=b_690be7ba6bb2da04ebb3cb084_30d3ffcf46 tabindex=-1></div><div class=clear><input type=email name=EMAIL class=email id=mce-EMAIL placeholder="email address" required>
<input type=submit value=Subscribe name=subscribe id=mc-embedded-subscribe class=button></div></div></form></div></article></main><script defer async src=/js/preload.min.63d20478881c7ac6a2bd1867d8d7ea40d73de863b0a9e88784c255e981ad55ea.js></script><script defer async src=/js/lozad.min.19125d78bc7e94940f6397b22cf080e177150edcc60909d6751878413be66cdf.js></script></body></html>